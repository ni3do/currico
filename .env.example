# ===========================================
# Currico - Environment Variables
# ===========================================
# Copy this file to .env: cp .env.example .env

# ===========================================
# Database Configuration
# ===========================================
# For Docker Compose development (uses service name 'db')
# Use root user to allow shadow database creation for migrations
DATABASE_URL="mysql://root:rootpassword@db:3306/currico"

# For local development without Docker (use localhost)
# DATABASE_URL="mysql://root:rootpassword@localhost:3306/currico"

# MySQL credentials (used by docker-compose)
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=currico
MYSQL_USER=mysql
MYSQL_PASSWORD=mysql

# ===========================================
# Port Configuration (optional)
# ===========================================
APP_PORT=3000
DB_PORT=3306

# ===========================================
# NextAuth Configuration
# ===========================================
# Generate with: openssl rand -base64 32
AUTH_SECRET=""
AUTH_URL="http://localhost:3000"

# ===========================================
# OAuth Providers (optional - leave empty to disable)
# ===========================================
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""
MICROSOFT_TENANT_ID=""
# Switch edu-ID (Swiss educational identity)
# Register at https://rr.aai.switch.ch/
EDUID_CLIENT_ID=""
EDUID_CLIENT_SECRET=""
# Set to "true" for test environment (login.test.eduid.ch), "false" for production (login.eduid.ch)
EDUID_USE_TEST="true"

# ===========================================
# Email Configuration (SMTP via Infomaniak)
# ===========================================
# Infomaniak SMTP settings
SMTP_HOST="mail.infomaniak.com"
SMTP_PORT="587"
SMTP_USER="noreply@currico.ch"
SMTP_PASSWORD=""
# Optional: override the "From" address (defaults to SMTP_USER)
EMAIL_FROM="noreply@currico.ch"
# Admin email for contact form notifications
ADMIN_EMAIL="admin@currico.ch"

# ===========================================
# Storage Configuration
# ===========================================
# Storage provider: "local" for development, "s3" for production
STORAGE_PROVIDER="local"

# S3/Infomaniak Object Storage (required when STORAGE_PROVIDER=s3)
S3_ENDPOINT="https://s3.pub1.infomaniak.cloud"
S3_REGION="pub1"
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_PUBLIC_BUCKET="currico-public"
S3_PRIVATE_BUCKET="currico-private"
S3_PUBLIC_BUCKET_URL="https://currico-public.s3.pub1.infomaniak.cloud"

# Public storage URL for client-side access (used by frontend)
NEXT_PUBLIC_STORAGE_PUBLIC_URL=""

# ===========================================
# Observability Configuration
# ===========================================

# Sentry (error tracking)
SENTRY_DSN=""
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_ORG=""
SENTRY_PROJECT=""
SENTRY_AUTH_TOKEN=""

# OpenTelemetry
OTEL_SERVICE_NAME="currico"
