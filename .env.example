# ===========================================
# Currico - Environment Variables
# ===========================================
# Copy this file to .env: cp .env.example .env

# ===========================================
# Database Configuration
# ===========================================
# For Docker Compose development (uses service name 'db')
DATABASE_URL="postgresql://postgres:postgres@db:5432/currico"

# For local development without Docker (use localhost)
# DATABASE_URL="postgresql://postgres:postgres@localhost:5432/currico"

# PostgreSQL credentials (used by docker-compose)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=currico

# ===========================================
# Port Configuration (optional)
# ===========================================
APP_PORT=3000
DB_PORT=5432

# ===========================================
# NextAuth Configuration
# ===========================================
# Generate with: openssl rand -base64 32
AUTH_SECRET=""
AUTH_URL="http://localhost:3000"

# ===========================================
# OAuth Providers (optional - leave empty to disable)
# ===========================================
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# ===========================================
# Email Configuration (SMTP via Infomaniak)
# ===========================================
# Infomaniak SMTP settings
SMTP_HOST="mail.infomaniak.com"
SMTP_PORT="587"
SMTP_USER="info@currico.ch"
SMTP_PASSWORD=""
# Optional: override the "From" address (defaults to SMTP_USER)
EMAIL_FROM="info@currico.ch"
# Admin email for contact form notifications
ADMIN_EMAIL="info@currico.ch"

# ===========================================
# Storage Configuration
# ===========================================
# Storage provider: "local" for development, "s3" for production
STORAGE_PROVIDER="local"

# S3/Infomaniak Object Storage (required when STORAGE_PROVIDER=s3)
S3_ENDPOINT="https://s3.pub1.infomaniak.cloud"
S3_REGION="pub1"
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_PUBLIC_BUCKET="currico-public"
S3_PRIVATE_BUCKET="currico-private"
S3_PUBLIC_BUCKET_URL="https://currico-public.s3.pub1.infomaniak.cloud"

# Public storage URL for client-side access (used by frontend)
NEXT_PUBLIC_STORAGE_PUBLIC_URL=""

# ===========================================
# Observability Configuration
# ===========================================

# Sentry (error tracking)
SENTRY_DSN=""
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_ORG=""
SENTRY_PROJECT=""
SENTRY_AUTH_TOKEN=""

# OpenTelemetry
OTEL_SERVICE_NAME="currico"

# ===========================================
# Stripe Configuration
# ===========================================
# Get keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=""
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=""

# Webhook signing secret (from Stripe Dashboard → Developers → Webhooks)
# Required for secure webhook verification
STRIPE_WEBHOOK_SECRET=""

# Base URL for Stripe redirects (must match production URL)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ===========================================
# Two-Factor Authentication (2FA)
# ===========================================
# 32-byte hex key for AES-256-GCM encryption of TOTP secrets at rest
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TOTP_ENCRYPTION_KEY=""

# ===========================================
# Optional Configuration
# ===========================================
# Comma-separated list of additional education email domains
# ADDITIONAL_EDUCATION_DOMAINS="myschool.ch,myuniversity.ch"
